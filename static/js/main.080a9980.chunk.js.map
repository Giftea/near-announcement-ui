{"version":3,"sources":["config/announcements.js","utils/DateUtil.js","components/Card/index.jsx","components/AddAnnouncement/index.jsx","images/logo.png","components/Nav/index.js","pages/Announcements.js","components/Button/index.jsx","images/home.png","pages/Home.js","Router.js","App.js","config/env.js","config/near.js","index.js"],"names":["GAS","LastSeen","date","ReactTimeAgo","locale","DateUtil","data","nano","oneday","Date","oneData","toISOString","format","Card","item","account","likeFunc","dislikeFunc","deleteFunc","width","base","md","borderWidth","borderRadius","overflow","mb","mt","bg","m","size","name","announcer","p","flex","display","alignItems","flexDirection","mr","textTransform","px","colorScheme","color","fontWeight","letterSpacing","fontSize","createdAt","ml","cursor","_hover","onClick","lineHeight","textAlign","text","justify","py","mx","variant","like","length","dislike","AddAnnouncement","useDisclosure","isOpen","onOpen","onClose","finalRef","useRef","validateName","value","error","toLowerCase","finalFocusRef","initialValues","onSubmit","values","actions","setTimeout","a","window","contract","createAnnouncement","parseNearAmount","alert","JSON","stringify","setSubmitting","props","validate","field","form","isInvalid","errors","touched","id","placeholder","isLoading","isSubmitting","type","Nav","logout","w","href","src","LOGO","h","rightIcon","Announcements","walletConnection","accountId","useState","announcements","setAnnouncements","initAnnouncements","useCallback","location","replace","useEffect","fetchAnnouncements","getAnnouncements","uid","deleteAnnouncement","className","sort","b","localeCompare","map","index","CustomButton","children","Home","login","Bg","alt","target","rel","Router","exact","path","render","App","CONTRACT_NAME","process","environment","env","networkId","nodeUrl","contractName","walletUrl","helperUrl","explorerUrl","keyPath","HOME","masterAccount","Error","nearEnv","Env","connect","Object","assign","deps","keyStore","keyStores","BrowserLocalStorageKeyStore","near","WalletConnection","getAccountId","Contract","viewMethods","changeMethods","requestSignIn","signOut","reload","JavascriptTimeAgo","en","ru","nearInitPromise","init","then","ReactDOM","StrictMode","document","getElementById","catch","console"],"mappings":"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","file":"static/js/main.080a9980.chunk.js","sourcesContent":["import { parseNearAmount } from \"near-api-js/lib/utils/format\";\n\nconst GAS = 100000000000000;\n\nexport function getAllAnnouncements() {\n  return window.contract.getAnnouncements();\n}\n\nexport function likeAnc(uid) {\n  return window.contract.like(uid, GAS, parseNearAmount(0.0001 + \"\"));\n}\n\nexport function dislikeAnc(uid) {\n  return window.contract.dislike(uid, GAS, parseNearAmount(0.0001 + \"\"));\n}\n\nexport function deleteAnc(uid) {\n  return window.contract.deleteAnnouncement(\n    uid,\n    GAS,\n    parseNearAmount(0.0001 + \"\")\n  );\n}\n\nexport function createAnnouncement(data) {\n  return window.contract.createAnnouncement(\n    data,\n    GAS,\n    parseNearAmount(0.52 + \"\")\n  );\n}\n","import React from \"react\";\r\nimport ReactTimeAgo from \"react-time-ago\";\r\nimport { format } from \"date-fns\";\r\n\r\nfunction LastSeen({ date }) {\r\n  return <ReactTimeAgo date={date} locale=\"en-US\" />;\r\n}\r\n\r\nexport default function DateUtil(data) {\r\n  const nano = data / 1000000;\r\n\r\n  const oneday = new Date() - 60 * 60 * 24 * 1000;\r\n  const oneData = new Date(oneday);\r\n\r\n  if (new Date(nano).toISOString() < oneData.toISOString()) {\r\n    return format(new Date(nano), \"dd MMM yyyy\");\r\n  } else {\r\n    return <LastSeen date={nano} />;\r\n  }\r\n}\r\n","import { Avatar, Badge, Box, Flex, Text } from \"@chakra-ui/react\";\nimport { FaTrash } from \"react-icons/all\";\n\nimport React from \"react\";\nimport DateUtil from \"../../utils/DateUtil\";\n\nexport function Card({ item, account, likeFunc, dislikeFunc, deleteFunc }) {\n  return (\n    <Flex\n      width={{ base: \"350px\", md: \"450px\" }}\n      borderWidth=\"1px\"\n      borderRadius=\"lg\"\n      overflow=\"hidden\"\n      mb={2}\n      mt={4}\n      bg=\"white\"\n    >\n      <Avatar m={2} size=\"lg\" name={`${item.announcer[0]}`} />{\" \"}\n      <Box p={4} flex=\"1\">\n        <Box display=\"flex\" alignItems=\"baseline\">\n          <Box\n            display=\"flex\"\n            flexDirection=\"column\"\n            alignItems=\"baseline\"\n            mr=\"auto\"\n          >\n            <Badge\n              textTransform=\"capitalize\"\n              borderRadius=\"full\"\n              px=\"2\"\n              colorScheme=\"teal\"\n            >\n              {item.announcer}\n            </Badge>\n            <Box\n              color=\"gray.500\"\n              fontWeight=\"semibold\"\n              letterSpacing=\"wide\"\n              fontSize=\"xs\"\n            >\n              {DateUtil(item.createdAt)} &bull;\n            </Box>\n          </Box>\n          {account !== item.announcer ? null : (\n            <Box\n              color=\"gray.500\"\n              fontWeight=\"semibold\"\n              letterSpacing=\"wide\"\n              fontSize=\"xs\"\n              ml=\"2\"\n              cursor=\"pointer\"\n              _hover={{ color: \"red\" }}\n            >\n              {<FaTrash onClick={deleteFunc} />}\n            </Box>\n          )}\n        </Box>\n\n        <Text\n          mt=\"1\"\n          lineHeight=\"tight\"\n          color=\"black\"\n          textAlign=\"left\"\n          fontSize={18}\n        >\n          {item.text}\n        </Text>\n\n        <Flex justify=\"flex-end\" alignItems=\"baseline\" py=\"2\">\n          <Flex color=\"gray.500\" ml=\"2\">\n            <Flex cursor=\"pointer\" mx=\"5px\" variant=\"ghost\" onClick={likeFunc}>\n              <Box mr=\"2px\" _hover={{ color: \"blue\" }}>\n                {item.like.length} like\n              </Box>\n            </Flex>{\" \"}\n            <Flex\n              cursor=\"pointer\"\n              mx=\"5px\"\n              variant=\"ghost\"\n              onClick={dislikeFunc}\n            >\n              <Box mr=\"2px\" _hover={{ color: \"blue\" }}>\n                {item.dislike.length} dislike\n              </Box>\n            </Flex>\n          </Flex>\n        </Flex>\n      </Box>\n    </Flex>\n  );\n}\n","import { AddIcon } from \"@chakra-ui/icons\";\nimport {\n  Modal,\n  ModalOverlay,\n  ModalContent,\n  ModalHeader,\n  ModalBody,\n  ModalCloseButton,\n  useDisclosure,\n  Button,\n  FormControl,\n  Input,\n  FormErrorMessage,\n  Flex,\n} from \"@chakra-ui/react\";\nimport { Field, Form, Formik } from \"formik\";\nimport React, { useRef } from \"react\";\nimport { createAnnouncement } from \"../../config/announcements\";\n\nfunction AddAnnouncement() {\n  const { isOpen, onOpen, onClose } = useDisclosure();\n  const finalRef = useRef();\n\n  function validateName(value) {\n    let error;\n    if (!value) {\n      error = \"Jeez! Enter an announcment YO!! 😱\";\n    } else if (value.toLowerCase() === \"\") {\n      error = \"Jeez! Enter an announcment YO!! 😱\";\n    } else if (value.length < 5) {\n      error = \"Come on! More words 😉\";\n    }\n    return error;\n  }\n\n  return (\n    <>\n      <Button\n        borderRadius=\"full\"\n        colorScheme=\"blue\"\n        mt={4}\n        onClick={onOpen}\n      >\n        Create Announcement\n      </Button>\n      <Modal finalFocusRef={finalRef} isOpen={isOpen} onClose={onClose}>\n        <ModalOverlay />\n        <ModalContent>\n          <ModalHeader>Create Announcement</ModalHeader>\n          <ModalCloseButton />\n          <ModalBody>\n            <Formik\n              initialValues={{ text: \"\" }}\n              onSubmit={(values, actions) => {\n                setTimeout(async () => {\n                  await createAnnouncement(values);\n                  alert(JSON.stringify(values, null, 2));\n                  actions.setSubmitting(false);\n                }, 1000);\n              }}\n            >\n              {(props) => (\n                <Form>\n                  <Field name=\"text\" validate={validateName}>\n                    {({ field, form }) => (\n                      <FormControl\n                        isInvalid={form.errors.text && form.touched.text}\n                      >\n                        {/* <FormLabel htmlFor=\"text\">Enter Announcement</FormLabel> */}\n                        <Input\n                          {...field}\n                          id=\"text\"\n                          placeholder=\"Tell the community\"\n                        />\n                        <FormErrorMessage>{form.errors.text}</FormErrorMessage>\n                      </FormControl>\n                    )}\n                  </Field>\n                  <Flex justify=\"flex-end\">\n                    <Button\n                      mt={4}\n                      mr={3}\n                      colorScheme=\"teal\"\n                      isLoading={props.isSubmitting}\n                      type=\"submit\"\n                    >\n                      Submit\n                    </Button>\n                    <Button colorScheme=\"red\" mt={4} mr={3} onClick={onClose}>\n                      Close\n                    </Button>\n                  </Flex>\n                </Form>\n              )}\n            </Formik>\n          </ModalBody>\n        </ModalContent>\n      </Modal>\n    </>\n  );\n}\n\nexport default AddAnnouncement;\n","export default __webpack_public_path__ + \"static/media/logo.4fb17f30.png\";","import { WarningTwoIcon } from \"@chakra-ui/icons\";\nimport { Box, Button, Flex, Image, Link } from \"@chakra-ui/react\";\nimport LOGO from '../../images/logo.png';\nimport React from \"react\";\n\nexport default function Nav({ logout }) {\n  return (\n    <Flex bg='beige' w='full'>\n      <Link href='/near-announcement-ui' mr='auto'>\n        <Image src={LOGO} h='50px' w='50px' ml='20px'/> \n      </Link>\n      <Box>\n        <Button\n          rightIcon={<WarningTwoIcon />}\n          colorScheme=\"red\"\n          variant=\"solid\"\n          onClick={() => logout()}\n          m='8px 18px 8px 8px'\n        >\n          Disconnect\n        </Button>\n      </Box>\n    </Flex>\n  );\n}\n","import \"../App.css\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport {\n  getAllAnnouncements,\n  dislikeAnc,\n  likeAnc,\n  deleteAnc,\n} from \"../config/announcements\";\nimport { Card } from \"../components/Card\";\nimport AddAnnouncement from \"../components/AddAnnouncement\";\nimport Nav from \"../components/Nav\";\nimport { Flex, Image, Text } from \"@chakra-ui/react\";\nimport LOGO from '../images/logo.png'\n\nconst Announcements = ({ logout }) => {\n  const account = window.walletConnection.account().accountId;\n  const [announcements, setAnnouncements] = useState([]);\n\n  const initAnnouncements = useCallback(async () => {\n    if (!account) {\n      window.location.replace(\"/near-announcement-ui\");\n    }\n  });\n\n  useEffect(() => {\n    initAnnouncements();\n  }, []);\n\n  const fetchAnnouncements = useCallback(async () => {\n    if (account) {\n      setAnnouncements(await getAllAnnouncements());\n    }\n  });\n\n  useEffect(() => {\n    fetchAnnouncements();\n  }, []);\n\n  const dislikeFunc = async (id) => {\n    await dislikeAnc({ uid: id });\n  };\n\n  const likeFunc = async (id) => {\n    await likeAnc({ uid: id });\n  };\n\n  const deleteFunc = async (id) => {\n    await deleteAnc({ uid: id });\n  };\n\n  return (\n    <div className=\"App\">\n      <Nav logout={logout} />\n      <AddAnnouncement />\n      {announcements\n        ?.sort((a, b) => b.createdAt.localeCompare(a.createdAt))\n        .map((item, index) => (\n          <Card\n            key={index}\n            item={item}\n            account={account}\n            likeFunc={() => likeFunc(item.uid)}\n            dislikeFunc={() => dislikeFunc(item.uid)}\n            deleteFunc={() => deleteFunc(item.uid)}\n          />\n        ))}\n\n      {announcements?.length < 1 && (\n        <Flex flexDirection=\"column\" mt=\"30px\">\n          <Image h=\"300px\" w=\"300px\" src={LOGO} />\n          <Text>No annoucnements</Text>\n        </Flex>\n      )}\n    </div>\n  );\n};\n\nexport default Announcements;\n","import { Button } from \"@chakra-ui/react\";\nimport React from \"react\";\n\nexport default function CustomButton({ rightIcon,  colorScheme, variant, onClick, children }) {\n  return (\n    <Button\n      rightIcon={rightIcon}\n      colorScheme={colorScheme}\n      variant={variant}\n      onClick={onClick}\n    >\n     { children}\n    </Button>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/home.dc2a44c9.png\";","import { WarningTwoIcon, ArrowForwardIcon } from \"@chakra-ui/icons\";\nimport \"../App.css\";\nimport { useCallback, useEffect } from \"react\";\nimport Button from \"../components/Button\";\nimport { Flex, Link, Text } from \"@chakra-ui/react\";\nimport Bg from '../images/home.png'\n\nconst Home = ({ logout, login }) => {\n  const account = window.walletConnection.account().accountId;\n  const initAnnouncements = useCallback(async () => {\n    if (account) {\n      window.location.replace(\"/near-announcement-ui/announcements\");\n    }\n  });\n\n  useEffect(() => {\n    initAnnouncements();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={Bg} className=\"App-logo\" alt=\"logo\" />\n        <Text className=\"App-link\" target=\"_blank\" rel=\"noopener noreferrer\">\n          Near Announcements\n        </Text>\n        {account ? (\n          <Flex flexDirection='column'>\n            <Link href=\"/near-announcement-ui/announcements\">\n              Go to Announcements\n            </Link>\n            <Button\n              rightIcon={<WarningTwoIcon />}\n              colorScheme=\"red\"\n              variant=\"solid\"\n              onClick={() => logout()}\n              mt='1.5rem'\n            >\n              Disconnect\n            </Button>\n          </Flex>\n        ) : (\n          <Button\n            rightIcon={<ArrowForwardIcon />}\n            colorScheme=\"teal\"\n            variant=\"solid\"\n            onClick={() => login()}\n          >\n            Connect\n          </Button>\n        )}\n      </header>\n    </div>\n  );\n};\n\nexport default Home;\n","import { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport Announcements from \"./pages/Announcements\";\nimport Home from \"./pages/Home\";\n\nconst Router = ({ logout, login }) => {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route\n          exact\n          path=\"/near-announcement-ui\"\n          render={(props) => <Home {...props} logout={logout} login={login} />}\n        />\n        <Route\n          path=\"/near-announcement-ui/announcements\"\n          render={(props) => <Announcements {...props} logout={logout} />}\n        />\n      </Switch>\n    </BrowserRouter>\n  );\n};\n\nexport default Router;\n","import \"./App.css\";\nimport Router from \"./Router\";\n\nfunction App({ logout, login }) {\n  return (\n    <div>\n      <Router logout={logout} login={login} />\n    </div>\n  );\n}\n\nexport default App;\n","const CONTRACT_NAME =\n  process.env.CONTRACT_NAME || \"dev-1651428809093-16954528884263\"; // put here a smart contracts' name\n\nfunction environment(env) {\n  switch (env) {\n    case \"production\":\n    case \"mainnet\":\n      return {\n        networkId: \"mainnet\",\n        nodeUrl: \"https://rpc.mainnet.near.org\",\n        contractName: CONTRACT_NAME,\n        walletUrl: \"https://wallet.near.org\",\n        helperUrl: \"https://helper.mainnet.near.org\",\n        explorerUrl: \"https://explorer.mainnet.near.org\",\n      };\n    case \"development\":\n    case \"testnet\":\n      return {\n        networkId: \"testnet\",\n        nodeUrl: \"https://rpc.testnet.near.org\",\n        contractName: CONTRACT_NAME,\n        walletUrl: \"https://wallet.testnet.near.org\",\n        helperUrl: \"https://helper.testnet.near.org\",\n        explorerUrl: \"https://explorer.testnet.near.org\",\n      };\n    case \"betanet\":\n      return {\n        networkId: \"betanet\",\n        nodeUrl: \"https://rpc.betanet.near.org\",\n        contractName: CONTRACT_NAME,\n        walletUrl: \"https://wallet.betanet.near.org\",\n        helperUrl: \"https://helper.betanet.near.org\",\n        explorerUrl: \"https://explorer.betanet.near.org\",\n      };\n    case \"local\":\n      return {\n        networkId: \"local\",\n        nodeUrl: \"http://localhost:3030\",\n        keyPath: `${process.env.HOME}/.near/validator_key.json`,\n        walletUrl: \"http://localhost:4000/wallet\",\n        contractName: CONTRACT_NAME,\n      };\n    case \"test\":\n    case \"ci\":\n      return {\n        networkId: \"shared-test\",\n        nodeUrl: \"https://rpc.ci-testnet.near.org\",\n        contractName: CONTRACT_NAME,\n        masterAccount: \"test.near\",\n      };\n    case \"ci-betanet\":\n      return {\n        networkId: \"shared-test-staging\",\n        nodeUrl: \"https://rpc.ci-betanet.near.org\",\n        contractName: CONTRACT_NAME,\n        masterAccount: \"test.near\",\n      };\n    default:\n      throw Error(\n        `Unconfigured environment '${env}'. Can be configured in src/config.js.`\n      );\n  }\n}\n\nexport default environment;\n","import Env from \"./env\";\nimport { connect, Contract, keyStores, WalletConnection } from \"near-api-js\";\nimport { formatNearAmount } from \"near-api-js/lib/utils/format\";\n\nconst nearEnv = Env(\"testnet\");\n\nexport async function init() {\n  const near = await connect(\n    Object.assign(\n      { deps: { keyStore: new keyStores.BrowserLocalStorageKeyStore() } },\n      nearEnv\n    )\n  );\n  window.walletConnection = new WalletConnection(near);\n  window.accountId = window.walletConnection.getAccountId();\n  window.contract = new Contract(\n    window.walletConnection.account(),\n    nearEnv.contractName,\n    {\n      // List here all view methods\n      viewMethods: [\"getAnnouncements\"],\n      // List call methods that change state\n      changeMethods: [\n        \"like\",\n        \"dislike\",\n        \"createAnnouncement\",\n        \"deleteAnnouncement\",\n      ],\n    }\n  );\n}\n\nexport async function accountBalance() {\n  return formatNearAmount(\n    (await window.walletConnection.account().getAccountBalance()).total,\n    2\n  );\n}\n\nexport async function getAccountId() {\n  return window.walletConnection.getAccountId();\n}\n\nexport function login() {\n  window.walletConnection.requestSignIn(nearEnv.contractName);\n  window.walletConnection.requestSignIn(\n    nearEnv.contractName,\n    \"Near Announcement\"\n  );\n}\n\nexport function logout() {\n  window.walletConnection.signOut();\n  window.location.reload();\n  window.location.replace(\"/near-announcement-ui/#/\");\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { ChakraProvider } from \"@chakra-ui/react\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { init, login, logout } from \"./config/near\";\nimport JavascriptTimeAgo from \"javascript-time-ago\";\n\n// The desired locales.\nimport en from \"javascript-time-ago/locale/en\";\nimport ru from \"javascript-time-ago/locale/ru\";\n\nJavascriptTimeAgo.locale(en);\nJavascriptTimeAgo.locale(ru);\n\nwindow.nearInitPromise = init()\n  .then(() => {\n    ReactDOM.render(\n      <React.StrictMode>\n        <ChakraProvider>\n          <App login={login} logout={logout} />\n        </ChakraProvider>\n      </React.StrictMode>,\n      document.getElementById(\"root\")\n    );\n  })\n  .catch(console.error);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}